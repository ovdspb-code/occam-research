<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mouse Cortex Proxy ‚Äî Synthetic Benchmark | CRN</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Source+Serif+4:ital,opsz,wght@0,8..60,400;0,8..60,600;0,8..60,700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--bg:#fafbfd;--surface:#fff;--surface-alt:#f4f5f8;--canvas-bg:#f7f8fb;--border:#e2e5ec;--border-light:#eef0f4;--text:#1a1d27;--text-2:#4a4e5a;--text-3:#8b8f9e;--accent:#3b4cc0;--accent-hover:#2a38a0;--teal:#0d8a7c;--warm:#c47d0a;--coral:#c0443b;--c-src:#3b4cc0;--c-tgt:#c47d0a;--c-int:#0d8a7c;--c0:#3b4cc0;--c1:#c0443b;--c2:#0d8a7c;--radius:14px;--radius-sm:8px;--font-body:'Inter',sans-serif;--font-head:'Source Serif 4',serif;--font-mono:'JetBrains Mono',monospace}
[data-theme="dark"]{--bg:#0f1119;--surface:#181b28;--surface-alt:#1e2235;--canvas-bg:#13151f;--border:#2a2e42;--border-light:#232738;--text:#e4e7f0;--text-2:#a8adc0;--text-3:#6b7088;--accent:#6b7cff;--accent-hover:#8b99ff;--teal:#4ecdc4;--warm:#f0b429;--coral:#ff6b6b;--c-src:#6b7cff;--c-tgt:#f0b429;--c-int:#4ecdc4;--c0:#6b7cff;--c1:#ff6b6b;--c2:#4ecdc4}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:var(--font-body);background:var(--bg);color:var(--text);line-height:1.7;-webkit-font-smoothing:antialiased;transition:background .3s,color .3s}
.wrap{max-width:1120px;margin:0 auto;padding:0 28px}
a{color:var(--accent);text-decoration:none}
.nav{padding:18px 0;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-light)}
.nav-brand{display:flex;align-items:center;gap:10px;font-weight:600;color:var(--text);font-size:.92rem;text-decoration:none}
.nav-brand svg{width:22px;height:22px}
.nav-right{display:flex;gap:16px;align-items:center;font-size:.82rem}
.nav-right a{color:var(--text-2);font-weight:500}
.theme-toggle{background:none;border:1px solid var(--border);border-radius:8px;padding:5px 8px;cursor:pointer;color:var(--text-2);font-size:1rem;line-height:1}
.hero{padding:48px 0 28px}
.hero-eyebrow{font-size:.72rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:var(--warm);margin-bottom:10px}
.badge{display:inline-block;background:var(--warm);color:#fff;font-size:.68rem;font-weight:700;padding:3px 10px;border-radius:6px;margin-bottom:14px}
.hero h1{font-family:var(--font-head);font-size:2.1rem;font-weight:700;line-height:1.2;margin-bottom:10px}
.hero-sub{font-size:.92rem;color:var(--text-2);max-width:700px;font-weight:300}
.stat-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin:22px 0}
.stat-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px 22px}
.stat-card-title{font-size:.68rem;text-transform:uppercase;letter-spacing:.08em;font-weight:600;color:var(--text-3);margin-bottom:12px}
.stat-row{display:flex;justify-content:space-between;padding:5px 0;border-bottom:1px solid var(--border-light);font-size:.82rem}
.stat-row:last-child{border-bottom:none}
.stat-label{color:var(--text-2)}.stat-val{font-family:var(--font-mono);font-size:.8rem;font-weight:500}
.stat-val.g{color:var(--teal)}.stat-val.w{color:var(--warm)}
.section{margin:28px 0}
.section h2{font-family:var(--font-head);font-size:1.15rem;font-weight:600;margin-bottom:14px}
canvas{display:block;width:100%;border-radius:var(--radius);border:1px solid var(--border);background:var(--canvas-bg)}
.controls{display:flex;align-items:center;gap:14px;padding:12px 16px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-sm);margin-top:10px;flex-wrap:wrap}
.controls label{font-size:.78rem;font-weight:600;color:var(--text-3);min-width:50px}
.controls input[type="range"]{flex:1;min-width:100px;accent-color:var(--accent)}
.controls .val{font-family:var(--font-mono);font-size:.82rem;min-width:50px;font-weight:600}
.btn{background:var(--accent);color:#fff;border:none;border-radius:8px;padding:6px 16px;font-size:.78rem;font-weight:600;cursor:pointer}
.btn.outline{background:none;border:1px solid var(--border);color:var(--text-2)}
.info-bar{font-family:var(--font-mono);font-size:.74rem;color:var(--text-3);padding:6px 0}
.legend{display:flex;gap:16px;flex-wrap:wrap;margin-top:10px;padding:10px 14px;background:var(--surface);border-radius:var(--radius-sm);border:1px solid var(--border-light)}
.legend-item{display:flex;align-items:center;gap:6px;font-size:.76rem;color:var(--text-2)}
.legend-dot{width:10px;height:10px;border-radius:50%}
.charts-row{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin:20px 0}
.chart-box{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:18px}
.chart-box h3{font-size:.8rem;font-weight:600;color:var(--text-3);margin-bottom:10px}
.source-box{margin:28px 0;padding:20px 24px;background:var(--surface);border:1px solid var(--border);border-left:3px solid var(--warm);border-radius:0 var(--radius-sm) var(--radius-sm) 0;font-size:.82rem;color:var(--text-2);line-height:1.8}
.source-box strong{color:var(--text);font-weight:600}
footer{padding:28px 0;text-align:center;font-size:.74rem;color:var(--text-3);border-top:1px solid var(--border-light);margin-top:28px}
@media(max-width:768px){.hero h1{font-size:1.6rem}.stat-grid,.charts-row{grid-template-columns:1fr}}
</style>
<script>
(function(){const s=localStorage.getItem('crn-theme');if(s)document.documentElement.setAttribute('data-theme',s);else if(matchMedia('(prefers-color-scheme:dark)').matches)document.documentElement.setAttribute('data-theme','dark');window.toggleTheme=function(){const c=document.documentElement.getAttribute('data-theme');const n=c==='dark'?'light':'dark';document.documentElement.setAttribute('data-theme',n);localStorage.setItem('crn-theme',n);document.getElementById('themeBtn').textContent=n==='dark'?'‚òÄÔ∏è':'üåô';drawCharts()};addEventListener('DOMContentLoaded',()=>{document.getElementById('themeBtn').textContent=(document.documentElement.getAttribute('data-theme')==='dark')?'‚òÄÔ∏è':'üåô'})})();
</script>
</head>
<body>
<div class="wrap">
<nav class="nav"><a href="index.html" class="nav-brand"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 2v4m0 12v4m-8.5-13.5 2.8 2.8m11.4 5.4 2.8 2.8M2 12h4m12 0h4M4.9 4.9l2.8 2.8m8.6 8.6 2.8 2.8"/></svg>Occam Research</a><div class="nav-right"><a href="index.html">‚Üê All demos</a><button class="theme-toggle" id="themeBtn" onclick="toggleTheme()">üåô</button></div></nav>

<div class="hero">
<div class="hero-eyebrow">Synthetic Benchmark ¬∑ Live GKSL</div>
<span class="badge">‚ö† SYNTHETIC ‚Äî NOT A BIOLOGICAL CONNECTOME</span>
<h1>Mouse Cortex Proxy ‚Äî Transport vs Memory</h1>
<p class="hero-sub">N=8 chain graph. Live Lindblad solver: source node 0 ‚Üí target node 7. Drag Œ∫ to see the ENAQT sweet spot where intermediate dephasing maximizes transport.</p>
</div>

<div class="stat-grid">
<div class="stat-card"><div class="stat-card-title">Proxy Graph</div><div class="stat-row"><span class="stat-label">Nodes</span><span class="stat-val">8</span></div><div class="stat-row"><span class="stat-label">Topology</span><span class="stat-val">chain</span></div><div class="stat-row"><span class="stat-label">Edges</span><span class="stat-val">7</span></div></div>
<div class="stat-card"><div class="stat-card-title">Transport</div><div class="stat-row"><span class="stat-label">Œ∫* optimal</span><span class="stat-val w">0.40</span></div><div class="stat-row"><span class="stat-label">Gap at Œ∫*</span><span class="stat-val g">0.083</span></div><div class="stat-row"><span class="stat-label">Window W_Œ∫</span><span class="stat-val">1.8 dec</span></div></div>
<div class="stat-card"><div class="stat-card-title">Selectivity</div><div class="stat-row"><span class="stat-label">Recall</span><span class="stat-val g">0.480</span></div><div class="stat-row"><span class="stat-label">Leakage</span><span class="stat-val w">0.400</span></div><div class="stat-row"><span class="stat-label">Ratio</span><span class="stat-val g">1.20</span></div></div>
</div>

<div class="section">
<h2>Live GKSL ‚Äî Chain Transport</h2>
<canvas id="simCanvas" height="260"></canvas>
<div class="controls">
<button class="btn" id="playBtn" onclick="togglePlay()">‚ñ∂ Play</button>
<button class="btn outline" onclick="resetSim()">‚Ü∫ Reset</button>
<label>Œ∫</label><input type="range" id="kSlider" min="-2" max="2" step=".05" value="-.4"><span class="val" id="kVal">0.40</span>
<label>Œ≥</label><input type="range" id="gSlider" min=".1" max="3" step=".1" value=".8"><span class="val" id="gVal">0.80</span>
</div>
<div class="info-bar" id="info">t=0.00 | P_target=0.000 | P_source=1.000</div>
<div class="legend">
<div class="legend-item"><span class="legend-dot" style="background:var(--c-src)"></span>Source (0)</div>
<div class="legend-item"><span class="legend-dot" style="background:var(--c-int)"></span>Relay (1‚Äì6)</div>
<div class="legend-item"><span class="legend-dot" style="background:var(--c-tgt)"></span>Target (7)</div>
</div>
</div>

<div class="charts-row">
<div class="chart-box"><h3>A ¬∑ Transport gap vs Œ∫</h3><canvas id="cA" height="240"></canvas></div>
<div class="chart-box"><h3>B ¬∑ Transport / memory / fitness vs noise</h3><canvas id="cB" height="240"></canvas></div>
<div class="chart-box"><h3>C ¬∑ Cortex recall & leakage vs T</h3><canvas id="cC" height="240"></canvas></div>
<div class="chart-box"><h3>D ¬∑ Energy tax ratio vs cycle time</h3><canvas id="cD" height="240"></canvas></div>
</div>

<div class="source-box">
<strong>‚ö† Synthetic benchmark.</strong> N=8 chain, not biological connectome. Requires validation on Allen Brain Atlas data.<br>
<strong>CRN:</strong> Dolgikh, O. (2026). <a href="https://doi.org/10.5281/zenodo.18249250">doi:10.5281/zenodo.18249250</a>
</div>
</div>
<footer><div class="wrap">¬© 2026 Occam Research ¬∑ CRN Interactive v2.1</div></footer>

<script>
// ===== GKSL ENGINE (N=8) =====
const N=8, W=[[0,1,0,0,0,0,0,0],[1,0,1,0,0,0,0,0],[0,1,0,1,0,0,0,0],[0,0,1,0,1,0,0,0],[0,0,0,1,0,1,0,0],[0,0,0,0,1,0,1,0],[0,0,0,0,0,1,0,1],[0,0,0,0,0,0,1,0]];
const isTgt=new Uint8Array(N); isTgt[7]=1;
const ci=(i,j)=>2*(i*N+j);

function newRho(){const r=new Float64Array(2*N*N);r[ci(0,0)]=1;return r}

const H=new Float64Array(N*N);
(function(){for(let i=0;i<N;i++){let d=0;for(let j=0;j<N;j++){if(W[i][j]){H[i*N+j]=W[i][j];d+=W[i][j]}}H[i*N+i]=-d}})();

function lind(rho,k,g,out){
  for(let i=0;i<N;i++)for(let j=0;j<N;j++){
    const idx=ci(i,j);let hr=0,hi=0,pr=0,pi=0;
    for(let m=0;m<N;m++){const a=H[i*N+m];if(a){const c=ci(m,j);hr+=a*rho[c];hi+=a*rho[c+1]}const b=H[m*N+j];if(b){const c=ci(i,m);pr+=rho[c]*b;pi+=rho[c+1]*b}}
    let dr=hi-pi,di=-(hr-pr);
    if(i!==j){dr-=k*rho[idx];di-=k*rho[idx+1]}
    const s=g*.5*(isTgt[i]+isTgt[j]);if(s){dr-=s*rho[idx];di-=s*rho[idx+1]}
    out[idx]=dr;out[idx+1]=di;
  }
}

const L=2*N*N,k1=new Float64Array(L),k2=new Float64Array(L),k3=new Float64Array(L),k4=new Float64Array(L),tmp=new Float64Array(L);
function rk4(rho,dt,k,g){
  lind(rho,k,g,k1);for(let i=0;i<L;i++)tmp[i]=rho[i]+.5*dt*k1[i];
  lind(tmp,k,g,k2);for(let i=0;i<L;i++)tmp[i]=rho[i]+.5*dt*k2[i];
  lind(tmp,k,g,k3);for(let i=0;i<L;i++)tmp[i]=rho[i]+dt*k3[i];
  lind(tmp,k,g,k4);for(let i=0;i<L;i++)rho[i]+=(dt/6)*(k1[i]+2*k2[i]+2*k3[i]+k4[i]);
}

let rho, simT=0, playing=false, animId=null;
const dt=.01, spf=10;
const getK=()=>Math.pow(10,+document.getElementById('kSlider').value);
const getG=()=>+document.getElementById('gSlider').value;

function resetSim(){rho=newRho();simT=0;drawSim();updInfo()}
function togglePlay(){playing=!playing;document.getElementById('playBtn').textContent=playing?'‚è∏ Pause':'‚ñ∂ Play';if(playing)anim();else{cancelAnimationFrame(animId);animId=null}}
function anim(){if(!playing)return;for(let s=0;s<spf;s++){rk4(rho,dt,getK(),getG());simT+=dt}drawSim();updInfo();animId=requestAnimationFrame(anim)}
function updInfo(){let pt=rho[ci(7,7)],ps=rho[ci(0,0)];document.getElementById('info').textContent=`t=${simT.toFixed(2)} | P_target=${pt.toFixed(4)} | P_source=${ps.toFixed(4)}`}

const css=v=>getComputedStyle(document.documentElement).getPropertyValue(v).trim();

function drawSim(){
  const c=document.getElementById('simCanvas'),ctx=c.getContext('2d'),dpr=devicePixelRatio||1;
  const CW=c.clientWidth,CH=c.clientHeight;c.width=CW*dpr;c.height=CH*dpr;ctx.scale(dpr,dpr);ctx.clearRect(0,0,CW,CH);
  const cS=css('--c-src'),cT=css('--c-tgt'),cI=css('--c-int'),brd=css('--border'),txt=css('--text-3'),txM=css('--text');
  const pad=60,gap=(CW-2*pad)/(N-1),cy=CH*.38;
  // Edges
  ctx.strokeStyle=brd+'88';ctx.lineWidth=2;
  for(let i=0;i<N-1;i++){ctx.beginPath();ctx.moveTo(pad+i*gap,cy);ctx.lineTo(pad+(i+1)*gap,cy);ctx.stroke()}
  // Nodes + bars
  for(let i=0;i<N;i++){
    const x=pad+i*gap,pop=Math.max(0,rho[ci(i,i)]),r=8+pop*40,col=i===0?cS:i===7?cT:cI;
    ctx.beginPath();ctx.arc(x,cy,Math.min(r,35),0,Math.PI*2);ctx.fillStyle=col;ctx.globalAlpha=.3+pop*3;ctx.fill();ctx.globalAlpha=1;ctx.lineWidth=2;ctx.strokeStyle=col;ctx.stroke();
    ctx.fillStyle=txt;ctx.font='600 11px '+css('--font-mono');ctx.textAlign='center';ctx.fillText(i+'',x,cy+48);
    // Bar
    const barH=Math.min(pop*150,80);ctx.fillStyle=col;ctx.globalAlpha=.5;ctx.fillRect(x-10,CH-20-barH,20,barH);ctx.globalAlpha=1;
    if(pop>.005){ctx.fillStyle=txM;ctx.font='600 9px '+css('--font-mono');ctx.fillText(pop.toFixed(3),x,cy-Math.min(r,35)-6)}
  }
}

document.getElementById('kSlider').addEventListener('input',()=>{document.getElementById('kVal').textContent=getK().toFixed(2)});
document.getElementById('gSlider').addEventListener('input',()=>{document.getElementById('gVal').textContent=getG().toFixed(2)});

// ===== STATIC CHARTS =====
const GA=[{k:.01,v:.015},{k:.025,v:.023},{k:.063,v:.042},{k:.1,v:.06},{k:.16,v:.074},{k:.25,v:.08},{k:.4,v:.083},{k:.63,v:.082},{k:1,v:.078},{k:1.6,v:.071},{k:2.5,v:.061},{k:4,v:.049},{k:6.3,v:.038},{k:10,v:.027},{k:25,v:.013},{k:63,v:.005},{k:100,v:.003}];
const TR=[{n:.01,t:.18,m:.68,f:.43},{n:.05,t:.43,m:.66,f:.55},{n:.1,t:.73,m:.54,f:.63},{n:.2,t:.93,m:.36,f:.64},{n:.5,t:1,m:.29,f:.64},{n:1,t:.94,m:.30,f:.62},{n:2,t:.79,m:.29,f:.54},{n:5,t:.52,m:.29,f:.41},{n:10,t:.33,m:.29,f:.31}];
const CX=[{x:.01,r:.57,l:.28,s:2.04},{x:.05,r:.56,l:.29,s:1.93},{x:.1,r:.48,l:.40,s:1.20},{x:.2,r:.32,l:.60,s:.53},{x:.5,r:.27,l:.66,s:.41},{x:1,r:.27,l:.66,s:.42},{x:2,r:.27,l:.66,s:.41},{x:5,r:.27,l:.66,s:.41},{x:10,r:.27,l:.67,s:.40}];
const EN=[{t:.5,e:3.2},{t:1,e:2.8},{t:2,e:2.1},{t:5,e:1.4},{t:10,e:.9},{t:20,e:.6},{t:50,e:.35},{t:100,e:.2},{t:200,e:.12},{t:500,e:.06}];

function lc(id,data,xk,yks,xLab,yLab,opts={}){
  const c=document.getElementById(id),ctx=c.getContext('2d'),dpr=devicePixelRatio||1;
  const CW=c.clientWidth,CH=c.clientHeight;c.width=CW*dpr;c.height=CH*dpr;ctx.scale(dpr,dpr);ctx.clearRect(0,0,CW,CH);
  const ml=50,mr=10,mt=10,mb=30,pw=CW-ml-mr,ph=CH-mt-mb;
  const aY=[];data.forEach(d=>yks.forEach(y=>{if(d[y.k]!=null)aY.push(d[y.k])}));
  const yMn=opts.yMin??Math.min(...aY)*.9, yMx=opts.yMax??Math.max(...aY)*1.08;
  const lg=opts.logX, xVs=data.map(d=>lg?Math.log10(d[xk]):d[xk]);
  const xMn=Math.min(...xVs),xMx=Math.max(...xVs);
  const tX=v=>ml+((lg?Math.log10(v):v)-xMn)/(xMx-xMn)*pw;
  const tY=v=>mt+(1-(v-yMn)/(yMx-yMn))*ph;
  // grid
  ctx.strokeStyle=css('--border-light');ctx.lineWidth=1;
  for(let i=0;i<=4;i++){const y=mt+ph*i/4;ctx.beginPath();ctx.moveTo(ml,y);ctx.lineTo(ml+pw,y);ctx.stroke()}
  // peak
  if(opts.peak){let bv=-Infinity,bd;const pk=yks[0].k;data.forEach(d=>{if(d[pk]>bv){bv=d[pk];bd=d}});if(bd){const px=tX(bd[xk]),py=tY(bv);ctx.beginPath();ctx.arc(px,py,6,0,Math.PI*2);ctx.strokeStyle=yks[0].c;ctx.lineWidth=2;ctx.stroke();ctx.fillStyle=css('--text');ctx.font='600 9px '+css('--font-mono');ctx.textAlign='center';ctx.fillText('Œ∫*='+bd[xk],px,py-10)}}
  // lines
  yks.forEach(yk=>{ctx.strokeStyle=yk.c;ctx.lineWidth=2;ctx.beginPath();let f=1;data.forEach(d=>{if(d[yk.k]==null)return;const x=tX(d[xk]),y=tY(d[yk.k]);f?(ctx.moveTo(x,y),f=0):ctx.lineTo(x,y)});ctx.stroke();
  data.forEach(d=>{if(d[yk.k]==null)return;ctx.beginPath();ctx.arc(tX(d[xk]),tY(d[yk.k]),3,0,Math.PI*2);ctx.fillStyle=yk.c;ctx.fill()})});
  // labels
  ctx.fillStyle=css('--text-3');ctx.font='500 10px '+css('--font-body');ctx.textAlign='center';ctx.fillText(xLab,ml+pw/2,CH-4);
  ctx.save();ctx.translate(10,mt+ph/2);ctx.rotate(-Math.PI/2);ctx.fillText(yLab,0,0);ctx.restore();
  ctx.font='9px '+css('--font-mono');ctx.textAlign='right';
  for(let i=0;i<=4;i++){const v=yMn+(yMx-yMn)*i/4;ctx.fillText(v.toFixed(2),ml-4,mt+ph*(1-i/4)+3)}
}

function drawCharts(){
  const c0=css('--c0'),c1=css('--c1'),c2=css('--c2');
  lc('cA',GA,'k',[{k:'v',c:c0}],'Œ∫','Gap',{logX:1,yMin:0,yMax:.1,peak:1});
  lc('cB',TR,'n',[{k:'t',c:c0},{k:'m',c:c1},{k:'f',c:c2}],'noise','score',{logX:1,yMin:0,yMax:1.1});
  lc('cC',CX,'x',[{k:'r',c:c0},{k:'l',c:c1},{k:'s',c:c2}],'T_env','value',{logX:1,yMin:0,yMax:2.2});
  lc('cD',EN,'t',[{k:'e',c:c0}],'œÑ_reset','E_tax ratio',{logX:1,yMin:0,yMax:3.5});
}

addEventListener('DOMContentLoaded',()=>{resetSim();drawCharts();document.getElementById('kVal').textContent=getK().toFixed(2);document.getElementById('gVal').textContent=getG().toFixed(2)});
addEventListener('resize',()=>{drawSim();drawCharts()});
</script>
</body>
</html>
