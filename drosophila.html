<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Drosophila Larva — Mushroom Body | CRN Interactive</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300..700;1,9..40,300..700&family=Instrument+Serif:ital@0;1&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script>
(function(){
  if(window.matchMedia('(prefers-color-scheme:dark)').matches) document.documentElement.setAttribute('data-theme','dark');
  window.toggleTheme = function(){
    const cur = document.documentElement.getAttribute('data-theme');
    const next = cur === 'dark' ? 'light' : 'dark';
    document.documentElement.setAttribute('data-theme', next);
    const btn = document.getElementById('themeBtn');
    if(btn) btn.textContent = next === 'dark' ? '\u2600\uFE0F' : '\uD83C\uDF19';
    if(typeof renderAll === 'function') setTimeout(renderAll, 50);
  };
  window.addEventListener('DOMContentLoaded', ()=>{
    const btn = document.getElementById('themeBtn');
    if(btn) btn.textContent = (document.documentElement.getAttribute('data-theme')==='dark') ? '\u2600\uFE0F' : '\uD83C\uDF19';
  });
})();
</script>
</head>
<body>
<header class="site-header">
<div class="wrap">
<nav class="nav">
  <a href="index.html" class="nav-brand">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 2v4m0 12v4m-8.5-13.5 2.8 2.8m11.4 5.4 2.8 2.8M2 12h4m12 0h4M4.9 4.9l2.8 2.8m8.6 8.6 2.8 2.8"/></svg>
    Occam Research
  </a>
  <div class="nav-right">
    <a href="index.html">&larr; All organisms</a><a href="human.html">Human &rarr;</a>
    <button class="theme-toggle" id="themeBtn" onclick="toggleTheme()" title="Toggle dark/light mode" aria-label="Switch to dark mode">&#x1F319;</button>
  </div>
</nav>
</div>
</header>

<main>
<div class="wrap">

<section class="hero">
  <div class="hero-eyebrow"><span class="dot"></span>Model Organism</div>
  <h1>Drosophila Larva Mushroom Body</h1>
  <p class="hero-sub">Interactive connectome visualization and CRN simulation results for the canonical decision-making circuit of the fruit fly larva.</p>
</section>

<div class="info-box">
  <h3>About the data</h3>
  <p><strong>Winding et al. (2023), Science:</strong> The complete brain connectome of the <em>Drosophila melanogaster</em> larva contains 3,016 neurons and over 500,000 synapses. The Mushroom Body (MB) is a canonical module for associative memory and learning. Architecture: projection neurons (PN) &rarr; Kenyon cells (KC, sparse coding) &rarr; output neurons (MBON, readout).</p>
</div>

<div class="stat-grid">
  <div class="stat-card">
    <div class="stat-card-title"><span class="dot" style="background:var(--accent)"></span>Graph Topology</div>
    <div class="stat-row"><span class="stat-label">Neurons (nodes)</span><span class="stat-val" id="nodeCount">2,956</span></div>
    <div class="stat-row"><span class="stat-label">Synapses (edges)</span><span class="stat-val" id="edgeCount">116,922</span></div>
    <div class="stat-row"><span class="stat-label">Mean degree</span><span class="stat-val">39.6</span></div>
    <div class="stat-row"><span class="stat-label">Graph diameter</span><span class="stat-val">9 hops</span></div>
  </div>
  <div class="stat-card">
    <div class="stat-card-title"><span class="dot" style="background:var(--teal)"></span>Mushroom Body</div>
    <div class="stat-row"><span class="stat-label">Projection neurons (PN)</span><span class="stat-val">100</span></div>
    <div class="stat-row"><span class="stat-label">Kenyon cells (KC)</span><span class="stat-val">1,000</span></div>
    <div class="stat-row"><span class="stat-label">Output neurons (MBON)</span><span class="stat-val">24</span></div>
    <div class="stat-row"><span class="stat-label">Expansion ratio PN&rarr;KC</span><span class="stat-val">1 : 10</span></div>
  </div>
  <div class="stat-card">
    <div class="stat-card-title"><span class="dot" style="background:var(--warm)"></span>CRN Simulation</div>
    <div class="stat-row"><span class="stat-label">DES peak (ε = 3)</span><span class="stat-val warn">Sel. 2.66</span></div>
    <div class="stat-row"><span class="stat-label">κ range</span><span class="stat-val">0.001 – 30</span></div>
    <div class="stat-row"><span class="stat-label">Target absorption max</span><span class="stat-val">0.67</span></div>
    <div class="stat-row"><span class="stat-label">Topology dependence</span><span class="stat-val good">p &lt; 0.001</span></div>
  </div>
</div>

<div class="viz">
  <h2><span class="dot" style="background:var(--accent)"></span>Interactive Connectome</h2>
  <div class="controls">
    <div class="control-group"><label for="layoutType">Layout</label>
      <select id="layoutType">
        <option value="hierarchical">Hierarchical (PN&rarr;KC&rarr;MBON)</option>
        <option value="force">Force-directed</option>
        <option value="circular">Circular</option>
      </select>
    </div>
    <div class="control-group"><label for="nodeSize">Node size</label><input type="range" id="nodeSize" min="1" max="10" value="3" step="0.5"></div>
    <div class="control-group"><label for="edgeOpacity">Edge opacity</label><input type="range" id="edgeOpacity" min="0.05" max="1" value="0.15" step="0.05"></div>
  </div>
  <canvas id="connectomeCanvas" width="1200" height="700"></canvas>
  <div class="legend">
    <div class="legend-item"><span class="legend-dot" style="background:var(--accent)"></span>Projection Neurons (PN)</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--teal)"></span>Kenyon Cells (KC)</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--warm)"></span>MB Output Neurons (MBON)</div>
    <div class="legend-item"><span class="legend-dot" style="background:#b8bcc8"></span>Other neurons</div>
  </div>
</div>

<div class="source-box">
  <strong>Data source:</strong> Winding et al. (2023). <em>The connectome of an insect brain.</em> Science 379(6636):eadd9330. <a href="https://doi.org/10.1126/science.add9330" target="_blank" rel="noopener noreferrer">doi:10.1126/science.add9330</a><br>
  <strong>CRN framework:</strong> Dolgikh (2026). <a href="https://doi.org/10.5281/zenodo.18249250" target="_blank" rel="noopener noreferrer">doi:10.5281/zenodo.18249250</a>
</div>

</div>
</main>
<footer class="site-footer">
<div class="wrap">
  <div class="footer-bottom">
    <span>&copy; 2026 Occam Research</span>
    <span><a href="https://occam.world" target="_blank" rel="noopener noreferrer">occam.world</a> &middot; CRN Interactive v3.0</span>
  </div>
</div>
</footer>
<script src="drosophila-data.js"></script>
</body>
</html>
