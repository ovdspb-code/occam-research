<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C. elegans — Touch Withdrawal Circuit | CRN Interactive</title>
<meta name="description" content="Live GKSL transport on the C. elegans touch withdrawal circuit. 24 neurons, 41 synapses. Interactive kappa-slider with real-time density matrix evolution.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300..700;1,9..40,300..700&family=Instrument+Serif:ital@0;1&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script>
(function(){
  if(window.matchMedia('(prefers-color-scheme:dark)').matches) document.documentElement.setAttribute('data-theme','dark');
  window.toggleTheme=function(){const c=document.documentElement.getAttribute('data-theme');const n=c==='dark'?'light':'dark';document.documentElement.setAttribute('data-theme',n);document.getElementById('themeBtn').textContent=n==='dark'?'\u2600\uFE0F':'\uD83C\uDF19';drawStaticCharts();};
  window.addEventListener('DOMContentLoaded',()=>{document.getElementById('themeBtn').textContent=(document.documentElement.getAttribute('data-theme')==='dark')?'\u2600\uFE0F':'\uD83C\uDF19';});
})();
</script>
</head>
<body>
<header class="site-header">
<div class="wrap">
<nav class="nav">
  <a href="index.html" class="nav-brand">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 2v4m0 12v4m-8.5-13.5 2.8 2.8m11.4 5.4 2.8 2.8M2 12h4m12 0h4M4.9 4.9l2.8 2.8m8.6 8.6 2.8 2.8"/></svg>
    Occam Research
  </a>
  <div class="nav-right">
    <a href="index.html">&larr; All demos</a>
    <a href="https://github.com/ovdspb-code/CRN_4.1" target="_blank" rel="noopener noreferrer">GitHub</a>
    <button class="theme-toggle" id="themeBtn" onclick="toggleTheme()" aria-label="Switch to dark mode">&#x1F319;</button>
  </div>
</nav>
</div>
</header>

<main>
<div class="wrap">

<section class="hero">
  <div class="hero-eyebrow"><span class="dot"></span>Model Organism &middot; Live GKSL</div>
  <h1><em>C. elegans</em> Touch Withdrawal Circuit</h1>
  <p class="hero-sub">24 neurons, 41 synapses. Real-time Lindblad master equation solved in your browser — drag the κ slider to watch probability flow from mechanosensory neurons through command interneurons to motor output. Observe how dephasing controls the quantum-to-classical transition.</p>
</section>

<div class="stat-grid">
  <div class="stat-card">
    <div class="stat-card-title"><span class="dot" style="background:var(--accent)"></span>Network</div>
    <div class="stat-row"><span class="stat-label">Nodes</span><span class="stat-val">24</span></div>
    <div class="stat-row"><span class="stat-label">Edges</span><span class="stat-val">41</span></div>
    <div class="stat-row"><span class="stat-label">Density</span><span class="stat-val">0.149</span></div>
    <div class="stat-row"><span class="stat-label">Diameter</span><span class="stat-val">7</span></div>
  </div>
  <div class="stat-card">
    <div class="stat-card-title"><span class="dot" style="background:var(--teal)"></span>Topology</div>
    <div class="stat-row"><span class="stat-label">Avg path</span><span class="stat-val">2.94</span></div>
    <div class="stat-row"><span class="stat-label">Clustering</span><span class="stat-val">0.362</span></div>
    <div class="stat-row"><span class="stat-label">Small-world σ</span><span class="stat-val good">2.34</span></div>
    <div class="stat-row"><span class="stat-label">Components</span><span class="stat-val">1</span></div>
  </div>
  <div class="stat-card">
    <div class="stat-card-title"><span class="dot" style="background:var(--warm)"></span>CRN Transport</div>
    <div class="stat-row"><span class="stat-label">κ* optimal</span><span class="stat-val warn">3.0</span></div>
    <div class="stat-row"><span class="stat-label">P_crn at κ*</span><span class="stat-val good">0.997</span></div>
    <div class="stat-row"><span class="stat-label">Gain vs CTQW</span><span class="stat-val good">2.53&times;</span></div>
    <div class="stat-row"><span class="stat-label">Targets</span><span class="stat-val">14 motor</span></div>
  </div>
</div>

<!-- LIVE SIMULATION -->
<div class="section">
  <h2 style="font-family:var(--font-display);font-size:var(--text-lg);font-weight:400;display:flex;align-items:center;gap:var(--space-3)"><span class="dot" style="width:8px;height:8px;border-radius:50%;background:var(--accent);display:inline-block"></span>Live GKSL Simulation</h2>
  <canvas id="simCanvas" height="420"></canvas>
  <div class="controls">
    <button class="btn" id="playBtn" onclick="togglePlay()">&#x25B6; Play</button>
    <button class="btn outline" onclick="resetSim()">&#x21BA; Reset</button>
    <label style="font-size:var(--text-xs);font-weight:600;color:var(--text-3);min-width:70px">κ (dephasing)</label>
    <input type="range" id="kappaSlider" min="-3" max="1.7" step="0.05" value="0.477" style="flex:1;min-width:120px;accent-color:var(--accent)">
    <span class="val" id="kappaVal">3.00</span>
    <label style="font-size:var(--text-xs);font-weight:600;color:var(--text-3);min-width:70px">ε (disorder)</label>
    <input type="range" id="epsSlider" min="0" max="3" step="0.1" value="1.0" style="flex:1;min-width:120px;accent-color:var(--accent)">
    <span class="val" id="epsVal">1.00</span>
    <label style="font-size:var(--text-xs);font-weight:600;color:var(--text-3);min-width:70px">γ (sink)</label>
    <input type="range" id="gammaSlider" min="0.1" max="5" step="0.1" value="1.0" style="flex:1;min-width:120px;accent-color:var(--accent)">
    <span class="val" id="gammaVal">1.00</span>
  </div>
  <div class="info-bar" id="infoBar">t=0.00 | P_target=0.000 | P_source=1.000 | Tr(ρ)=1.000</div>
  <div class="legend">
    <div class="legend-item"><span class="legend-dot" style="background:var(--c-src)"></span>Sensory (source, ρ₀)</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--c-int)"></span>Interneuron</div>
    <div class="legend-item"><span class="legend-dot" style="background:var(--c-tgt)"></span>Motor (target/sink)</div>
    <div class="legend-item"><span class="legend-dot" style="background:#888"></span>Node size = ρ_ii</div>
  </div>
</div>

<!-- STATIC CHARTS -->
<div class="charts-row">
  <div class="chart-box"><h3>A &middot; P_crn vs κ (ε=1, T=1)</h3><canvas id="chartK" height="260"></canvas></div>
  <div class="chart-box"><h3>B &middot; Disorder sweep (best κ at each ε)</h3><canvas id="chartE" height="260"></canvas></div>
  <div class="chart-box"><h3>C &middot; Thermal T_env (ε=1)</h3><canvas id="chartT" height="260"></canvas></div>
  <div class="chart-box"><h3>D &middot; Target sensitivity</h3><canvas id="chartN" height="260"></canvas></div>
</div>
<div class="legend">
  <div class="legend-item"><span class="legend-dot" style="background:var(--c-crn)"></span>CRN (GKSL)</div>
  <div class="legend-item"><span class="legend-dot" style="background:var(--c-th)"></span>Thermal CRW</div>
  <div class="legend-item"><span class="legend-dot" style="background:var(--c-ctqw)"></span>Coherent (CTQW)</div>
</div>

<div class="source-box">
  <strong>Data source:</strong> White, J. G. et al. (1986). Touch circuit subgraph: 6 mechanosensory &rarr; 4 command interneurons &rarr; 14 motor neurons.<br>
  <strong>Solver:</strong> Full Lindblad master equation dρ/dt = -i[H,ρ] + κSum(Z_k ρ Z_k - ρ) + γSum_targets(|0&gt;&lt;k|ρ|k&gt;&lt;0| - 1/2{|k&gt;&lt;k|,ρ}), solved via RK4 directly in JavaScript.<br>
  <strong>CRN framework:</strong> Dolgikh, O. (2026). <a href="https://doi.org/10.5281/zenodo.18249250" target="_blank" rel="noopener noreferrer">doi:10.5281/zenodo.18249250</a>
</div>

</div>
</main>
<footer class="site-footer">
<div class="wrap">
  <div class="footer-bottom">
    <span>&copy; 2026 Occam Research</span>
    <span><a href="https://occam.world" target="_blank" rel="noopener noreferrer">occam.world</a> &middot; CRN Interactive v3.0</span>
  </div>
</div>
</footer>
<script src="elegans-data.js"></script>
</body>
</html>
